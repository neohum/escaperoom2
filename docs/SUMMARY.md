# 방탕출 교육 플랫폼 - 요약

## 📌 프로젝트 개요

교육용 방탕출 게임을 제작하고 배포할 수 있는 웹 기반 플랫폼

### 핵심 사용자

1. **전체 관리자**: 시스템 전체 관리, 사용 현황 모니터링
2. **컨텐츠 제작자**: 게임 제작 및 편집 (로그인/비로그인 가능)
3. **사용자**: 게임 플레이 (비로그인 가능, 로그인 시 뱃지/기록 저장)

---

## 🎯 핵심 기능

### 관리자/제작자
- ✅ 실시간 협업 편집 (Redis Pub/Sub)
- ✅ 비로그인 편집 토큰 시스템
- ✅ 이미지 → SVG 자동 변환
- ✅ YouTube 비디오 삽입
- ✅ 9가지 문제 유형 지원
- ✅ 주관식 유사도 계산 (60% 임계값)
- ✅ 출력물 PDF 자동 생성
- ✅ 후원 시스템

### 사용자
- ✅ 비로그인 플레이 (로컬 저장)
- ✅ 3가지 플레이 모드 (온라인/현장/출력물)
- ✅ 오프라인 지원 (PWA)
- ✅ 뱃지 시스템
- ✅ IP 기반 접속 제한

---

## 💻 기술 스택

### 프론트엔드
- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS + shadcn/ui
- Zustand (상태 관리)
- Workbox (PWA)

### 백엔드
- Next.js API Routes
- MySQL (Verpex)
- Redis (Upstash)
- Node.js 20

### 인프라
- Verpex Shared Hosting
- Upstash Redis (Free tier)

---

## 💰 비용 (월 10만원 이내)

| 항목 | 비용 |
|------|------|
| Verpex Hosting | ₩1,300/월 |
| Upstash Redis | 무료 |
| **총계** | **₩1,300/월** ✅ |

---

## 📊 데이터베이스 (MySQL)

### 주요 테이블
1. `users` - 사용자 (소셜 로그인 지원)
2. `rooms` - 게임 룸 (편집 토큰 포함)
3. `questions` - 문제 (SVG, YouTube, 유사도)
4. `team_members` - 팀원 (로그인/비로그인)
5. `game_sessions` - 게임 세션
6. `game_progress` - 진행 상황 (유사도 점수)
7. `access_logs` - IP 접속 로그
8. `onsite_checkins` - 현장 체크인
9. `badges` - 뱃지
10. `user_badges` - 사용자 뱃지
11. `donations` - 후원 정보

---

## 🚀 개발 로드맵 (6주)

### Week 1-2: 기반 구축
- Next.js + MySQL + Redis 설정
- 소셜 로그인 구현
- 비로그인 편집 토큰 시스템
- PWA 설정

### Week 3-4: 관리자 기능
- 실시간 협업 (Redis Pub/Sub)
- SVG 변환 업로드
- YouTube 삽입
- 주관식 유사도 계산
- 후원 시스템

### Week 5: 사용자 기능
- 3가지 플레이 모드
- 9가지 문제 유형 렌더러
- 오프라인 지원
- IP 접속 제한

### Week 6: 테스트 & 배포
- 샘플 게임 제작
- 성능 최적화
- Verpex 배포

---

## 🎮 문제 유형 (9가지)

1. **객관식** (Multiple Choice)
2. **주관식** (Short Answer) - 유사도 60% 이상 정답
3. **이미지 퍼즐** (Image Puzzle)
4. **드래그 앤 드롭** (Drag & Drop)
5. **순서 맞추기** (Sequence)
6. **이미지 영역 클릭** (Hotspot)
7. **비밀번호 입력** (Password)
8. **스토리 선택지** (Story Choice)
9. **미니게임** (Mini Game)

---

## 🎯 플레이 모드 (3가지)

### 1. 온라인 모드
- 풍부한 멀티미디어
- 자동 진행 저장
- 힌트 시스템

### 2. 현장 연계 모드
- QR 코드 스캔
- GPS 위치 확인
- 실제 장소 탐험

### 3. 출력물 모드
- PDF 인쇄물
- 인터넷 불필요
- 협동 학습

---

## 🔑 핵심 차별점

1. **비로그인 편집**: 가입 없이도 게임 제작 가능 (편집 토큰)
2. **SVG 변환**: 이미지 자동 SVG 변환으로 용량 최소화
3. **유사도 채점**: 주관식 답변 유연한 채점 (60% 임계값)
4. **초저비용**: 월 1,300원으로 운영 가능
5. **실시간 협업**: Redis Pub/Sub으로 여러 명 동시 편집
6. **후원 시스템**: 제작자 후원 기능 내장

---

## 📚 참고 사례

1. **산으로 간 물고기** - 역사 교육
2. **동쪽에서 온 손님** - 독도 교육
3. **기념관의 비밀과 신비한 조각** - 노벨평화상
4. **세 가지 꽃말** - 학생독립운동

---

## 📞 다음 단계

1. Verpex 호스팅 가입
2. Upstash Redis 가입
3. 소셜 로그인 API 키 발급
4. 프로젝트 초기화
5. 데이터베이스 스키마 생성

---

**상세 문서**: [project-proposal.md](./project-proposal.md)

